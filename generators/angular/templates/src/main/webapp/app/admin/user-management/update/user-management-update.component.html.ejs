<div class="jh-card">
    <form name="editForm" role="form" novalidate (ngSubmit)="save()" [formGroup]="editForm">
        <h2 id="myUserLabel">
            <span jhiTranslate="userManagement.home.createOrEditLabel">Create or edit a User</span>
        </h2>

        <jhi-alert-error></jhi-alert-error>

        <div class="jh-form-group">
            <label class="jh-form-label" jhiTranslate="global.field.id">ID</label>
            <input type="text" class="jh-form-input" name="id" formControlName="id" readonly />
        </div>

        <div class="jh-form-group">
            <label class="jh-form-label" jhiTranslate="userManagement.login">Login</label>
            <input type="text" class="jh-form-input" name="login" formControlName="login" />

            <div *ngIf="editForm.get('login')!.invalid && (editForm.get('login')!.dirty || editForm.get('login')!.touched)">
                <small class="jh-form-text text-danger" *ngIf="editForm.get('login')?.errors?.required" jhiTranslate="entity.validation.required">
                    This field is required.
                </small>

                <small class="jh-form-text text-danger" *ngIf="editForm.get('login')?.errors?.maxlength" jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 50 }">
                    This field cannot be longer than 50 characters.
                </small>

                <small class="jh-form-text text-danger" *ngIf="editForm.get('login')?.errors?.pattern" jhiTranslate="entity.validation.patternLogin">
                    This field can only contain letters, digits and e-mail addresses.
                </small>
            </div>
        </div>

        <div class="jh-form-group">
            <label class="jh-form-label" jhiTranslate="userManagement.firstName">First Name</label>
            <input type="text" class="jh-form-input" name="firstName" formControlName="firstName" />

            <div *ngIf="editForm.get('firstName')!.invalid && (editForm.get('firstName')!.dirty || editForm.get('firstName')!.touched)">
                <small class="jh-form-text text-danger" *ngIf="editForm.get('firstName')?.errors?.maxlength" jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 50 }">
                    This field cannot be longer than 50 characters.
                </small>
            </div>
        </div>

        <div class="jh-form-group">
            <label class="jh-form-label" jhiTranslate="userManagement.lastName">Last Name</label>
            <input type="text" class="jh-form-input" name="lastName" formControlName="lastName" />

            <div *ngIf="editForm.get('lastName')!.invalid && (editForm.get('lastName')!.dirty || editForm.get('lastName')!.touched)">
                <small class="jh-form-text text-danger" *ngIf="editForm.get('lastName')?.errors?.maxlength" jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 50 }">
                    This field cannot be longer than 50 characters.
                </small>
            </div>
        </div>

        <div class="jh-form-group">
            <label class="jh-form-label" jhiTranslate="userManagement.email">Email</label>
            <input type="email" class="jh-form-input" name="email" formControlName="email" />

            <div *ngIf="editForm.get('email')!.invalid && (editForm.get('email')!.dirty || editForm.get('email')!.touched)">
                <small class="jh-form-text text-danger" *ngIf="editForm.get('email')?.errors?.required" jhiTranslate="entity.validation.required">
                    This field is required.
                </small>

                <small class="jh-form-text text-danger" *ngIf="editForm.get('email')?.errors?.maxlength" jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: 100 }">
                    This field cannot be longer than 100 characters.
                </small>

                <small class="jh-form-text text-danger" *ngIf="editForm.get('email')?.errors?.minlength" jhiTranslate="entity.validation.minlength" [translateValues]="{ min: 5 }">
                    This field is required to be at least 5 characters.
                </small>

                <small class="jh-form-text text-danger" *ngIf="editForm.get('email')?.errors?.email" jhiTranslate="global.messages.validate.email.invalid">
                    Your email is invalid.
                </small>
            </div>
        </div>

        <div class="jh-form-group">
            <label class="jh-form-label" for="activated">
                <input type="checkbox" id="activated" name="activated" formControlName="activated" class="jh-form-checkbox" />
                <span jhiTranslate="userManagement.activated">Activated</span>
            </label>
        </div>

        <div class="jh-form-group" *ngIf="languages && languages.length > 0">
            <label class="jh-form-label" jhiTranslate="userManagement.langKey">Language</label>
            <select class="jh-form-select" id="langKey" name="langKey" formControlName="langKey">
                <option *ngFor="let language of languages" [value]="language">{{ language | findLanguageFromKey }}</option>
            </select>
        </div>

        <div class="jh-form-group">
            <label class="jh-form-label" jhiTranslate="userManagement.profiles">Profiles</label>
            <select class="jh-form-select" multiple name="authority" formControlName="authorities">
                <option *ngFor="let authority of authorities" [value]="authority">{{ authority }}</option>
            </select>
        </div>

        <div class="jh-btn-group">
            <button type="button" class="jh-btn jh-btn-secondary" (click)="previousState()">
                <fa-icon icon="ban"></fa-icon>&nbsp;<span jhiTranslate="entity.action.cancel">Cancel</span>
            </button>

            <button type="submit" [disabled]="editForm.invalid || isSaving" class="jh-btn jh-btn-primary">
                <fa-icon icon="save"></fa-icon>&nbsp;<span jhiTranslate="entity.action.save">Save</span>
            </button>
        </div>
    </form>
</div> 